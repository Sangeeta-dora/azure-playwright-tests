# Test info

- Name: Activity Type_Quick Search for each column
- Location: /home/runner/work/azure-playwright-tests/azure-playwright-tests/azure-repo/tests/Admin_MasterFiles_ActivityType.spec.js:190:1

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at /home/runner/work/azure-playwright-tests/azure-playwright-tests/azure-repo/tests/Admin_MasterFiles_ActivityType.spec.js:214:116
```

# Page snapshot

```yaml
- complementary:
  - navigation:
    - list:
      - listitem:
        - img "logo"
      - heading "Abhangale_QA" [level=5]
      - listitem:
        - link "Home":
          - /url: /home
          - img
          - text: Home
      - listitem:
        - link "Dashboard":
          - /url: /dashboard
          - img
          - text: Dashboard
      - listitem:
        - img
        - text: Favorites
        - list:
          - listitem:
            - link "Communication ~ All 0":
              - /url: /allactivities
          - listitem:
            - link "Communication ~ All 0":
              - /url: /allactivities
          - listitem:
            - link "Communication ~ All 0":
              - /url: /allactivities
          - listitem:
            - link "account overview":
              - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/AccountOverview.aspx
              - text: account overview 0
          - listitem:
            - link "Communication ~All 0":
              - /url: /allactivities?SettingID=~All
          - listitem:
            - link "CustomerMaintenance ~ All 0":
              - /url: /admin/master-files/customer
          - listitem:
            - link "FrameMainPage ~ All":
              - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/FrameMainPage.aspx?
              - text: FrameMainPage ~ All 0
      - listitem:
        - img
        - text: Messages
        - list:
          - listitem:
            - link "Customer Message 10":
              - /url: /messages/mail-not-read?Mode=CustomerMessage&AssignedUserKey=683&AlertDesc=Customer Message&SettingID=~All&Tiles
          - listitem:
            - link "Error Sending Email 32":
              - /url: /messages/mail-not-read?Mode=ErrorSendMailAlert&AssignedUserKey=683&AlertDesc=Error Sending Email&SettingID=~All&Tiles
          - listitem:
            - link "Internal Message 0":
              - /url: /messages/mail-not-read?Mode=InternalMessage&AssignedUserKey=683&AlertDesc=Internal Message&SettingID=~All&Tiles
          - listitem:
            - link "Draft Activities 7":
              - /url: /messages/draft-activity
          - listitem:
            - link "Expected Payment Promise Broken 7":
              - /url: /messages/expected-payments?Mode=BrokenPromise&AssignedUserKey=683&AlertDesc=Expected Payment Promise Broken&Tiles
          - listitem:
            - link "Mail Not Read 0":
              - /url: /messages/mail-not-read?Mode=UnreadMailAlert&AssignedUserKey=683&AlertDesc=Mail Not Read&SettingID=~All&Tiles
          - listitem:
            - link "Followup Past Due 1373":
              - /url: /messages/followup-past-due?ExcludeFromRule=False&SettingID=~PastDue&AssignedUserKey=683&MaxToDoDate=2025-08-25&Tiles
          - listitem:
            - link "Mail Not Filed 1784":
              - /url: /messages/mail-not-filed
          - listitem:
            - link "Pending Payment NOT Reconciled 12":
              - /url: /messages/pending-payment-not-reconciled?Mode=PendPmtNotReconciled&AssignedUserKey=683&AlertDesc=Pending Payment NOT Reconciled&Tiles
          - listitem:
            - link "Followup Due Today 0":
              - /url: /messages/followup-past-due?ExcludeFromRule=False&SettingID=~DueToday&AssignedUserKey=683&MaxToDoDate=2025-08-26&MinToDoDate=2025-08-26&Tiles
          - listitem:
            - link "Open Issue without Open Activity 42":
              - /url: /messages/mail-not-read?Mode=OrphanIssue&AssignedUserKey=683&AlertDesc=Open Issue without Open Activity&SettingID=~All&Tiles
          - listitem:
            - link "Pending Payment Declined During Last 7 Days 0":
              - /url: /messages/pending-payment-not-reconciled?Mode=PendPmtDeclined&AssignedUserKey=683&AlertDesc=Pending Payment Declined During Last 7 Days&Tiles
      - listitem:
        - img
        - text: Activities
        - list:
          - listitem:
            - link "Email only 15":
              - /url: /activities/email-only?Mode=RuleAlert&RuleKey=4738&AlertDesc=Email only
          - listitem:
            - link "State flag Test 12":
              - /url: /activities/state-flag-test?Mode=RuleAlert&RuleKey=4821&AlertDesc=State flag Test
          - listitem:
            - link "Invoice Template with CC 27":
              - /url: "/activities/invoice-template-with-cc-?Mode=RuleAlert&RuleKey=5084&AlertDesc=Invoice Template with CC "
          - listitem:
            - link "Invoice flag temp 20":
              - /url: /activities/invoice-flag-temp?Mode=RuleAlert&RuleKey=4802&AlertDesc=Invoice flag temp
          - listitem:
            - link "Customer Report Group 27":
              - /url: /activities/customer-report-group?Mode=RuleAlert&RuleKey=4742&AlertDesc=Customer Report Group
          - listitem:
            - link "Embedded Report Test 21":
              - /url: /activities/embedded-report-test?Mode=RuleAlert&RuleKey=4743&AlertDesc=Embedded Report Test
          - listitem:
            - link "No Send 19":
              - /url: /activities/no-send?Mode=RuleAlert&RuleKey=4744&AlertDesc=No Send
          - listitem:
            - link "Invoice Contact & Primary 78":
              - /url: /activities/invoice-contact-&-primary?Mode=RuleAlert&RuleKey=4745&AlertDesc=Invoice Contact & Primary
          - listitem:
            - link "Invoice Contact &amp; Primary 195":
              - /url: /activities/invoice-contact-&amp;-primary?Mode=RuleAlert&RuleKey=5042&AlertDesc=Invoice Contact &amp; Primary
          - listitem:
            - link "Invoice Contact Mix 75":
              - /url: /activities/invoice-contact-mix?Mode=RuleAlert&RuleKey=4746&AlertDesc=Invoice Contact Mix
          - listitem:
            - link "Invoice Contact 1 & 2 77":
              - /url: /activities/invoice-contact-1-&-2?Mode=RuleAlert&RuleKey=4747&AlertDesc=Invoice Contact 1 & 2
          - listitem:
            - link "Invoice Contact 1 &amp; 2 50":
              - /url: /activities/invoice-contact-1-&amp;-2?Mode=RuleAlert&RuleKey=5047&AlertDesc=Invoice Contact 1 &amp; 2
          - listitem:
            - link "Invoice Contact 2 76":
              - /url: /activities/invoice-contact-2?Mode=RuleAlert&RuleKey=4748&AlertDesc=Invoice Contact 2
          - listitem:
            - link "Invoice Contact 1 78":
              - /url: /activities/invoice-contact-1?Mode=RuleAlert&RuleKey=4749&AlertDesc=Invoice Contact 1
          - listitem:
            - link "Welcome Email to the Customer 19":
              - /url: /activities/welcome-email-to-the-customer?Mode=RuleAlert&RuleKey=4803&AlertDesc=Welcome Email to the Customer
      - listitem:
        - img
        - text: Accounts
        - list:
          - listitem:
            - link "All accounts 0":
              - /url: /accounts/all-accounts
      - listitem:
        - img
        - text: Inquiries
        - list:
          - listitem:
            - text: By Account
            - list:
              - listitem:
                - link "Statement":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Statements.aspx
              - listitem:
                - link "Contacts":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Contacts.aspx
              - listitem:
                - link "Invoices":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Invoices.aspx
              - listitem:
                - link "Payments":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Payments.aspx
              - listitem:
                - link "Contact":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/AccountInfo.aspx
                  - text: Contact Info
              - listitem:
                - link "PortalMessages":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/PortalMessages.aspx
                  - text: Messages
              - listitem:
                - link "CreditInquiry":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/CreditInquiry.aspx
                  - text: Credit Inquiry
          - listitem:
            - text: By User
            - list:
              - listitem:
                - link "Contacts":
                  - /url: /inquiries/by-user/contacts
              - listitem:
                - link "Activity Summary":
                  - /url: /inquiries/by-user/activity-summary
              - listitem:
                - link "Activities":
                  - /url: /allactivities
              - listitem:
                - link "Expected Payments":
                  - /url: /inquiries/by-user/expected-payments
              - listitem:
                - link "Follow-Up":
                  - /url: /inquiries/by-user/follow-up
              - listitem:
                - link "Mail":
                  - /url: /inquiries/by-user/mail
              - listitem:
                - link "Invoices":
                  - /url: /inquiries/by-user/invoices
              - listitem:
                - link "Payments":
                  - /url: /inquiries/by-user/payments
              - listitem:
                - link "Pending Payment":
                  - /url: /inquiries/by-user/pending-payments
              - listitem:
                - link "Scheduled Payments":
                  - /url: /inquiries/by-user/scheduled-payments
              - listitem:
                - link "Projected Cash Receipts":
                  - /url: /inquiries/by-user/projected-cash-receipts
              - listitem:
                - link "Reporting Group Logs":
                  - /url: /inquiries/by-user/reporting-group-logs
      - listitem:
        - img
        - text: Admin
        - list:
          - listitem:
            - text: Master Files
            - list:
              - listitem:
                - link "Activity Templates":
                  - /url: /admin/master-files/activity-template
              - listitem:
                - link "Activity Types":
                  - /url: /admin/master-files/activity-types
              - listitem:
                - link "Company":
                  - /url: /admin/master-files/company
              - listitem:
                - link "Credit Class":
                  - /url: /admin/master-files/credit-class
              - listitem:
                - link "Customer":
                  - /url: /admin/master-files/customer
              - listitem:
                - link "Communication Template":
                  - /url: /admin/master-files/communication-template
              - listitem:
                - link "Reason Code":
                  - /url: /admin/master-files/reason-code
              - listitem:
                - link "Report":
                  - /url: /admin/master-files/report
              - listitem:
                - link "Reporting Groups":
                  - /url: /admin/master-files/reporting-groups
              - listitem:
                - link "Sales Rep":
                  - /url: /admin/master-files/sales-rep
              - listitem:
                - link "UserMaint":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/UserMaintenance.aspx
                  - text: Users
              - listitem:
                - link "Message Settings":
                  - /url: /admin/master-files/message-settings
          - listitem:
            - text: Settings & Utilities
            - list:
              - listitem:
                - link "CountryMaint":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/CountryMaintenance.aspx
                  - text: Country
              - listitem:
                - link "ImportCustNotes":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/ImportNotes.aspx
                  - text: Import
              - listitem:
                - link "Logs":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Logs.aspx
              - listitem:
                - link "MailRetrieval":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/Mailretrieval.aspx
                  - text: Mail Retrieval
              - listitem:
                - link "EntityMassUpdate":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/EntityMassUpdate.aspx
                  - text: Mass Update
              - listitem:
                - link "SiteOptions":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/SiteOptions.aspx
                  - text: Site Options
              - listitem:
                - link "SyncSoftware":
                  - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/SyncSchedulesMaintenance.aspx
                  - text: Sync Setup
          - listitem:
            - link "AgeCustomers":
              - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/AgeCustomers.aspx
              - text: Age Accounts 0
          - listitem:
            - link "GenerateActions":
              - /url: https://web-qa.lockstep.network//(S(qrcxcp2l0qoaigsgewzbpcyb))/Pages/GenerateActions.aspx
              - text: Generate Actions 0
- img "Add to favorite"
- checkbox
- img
- text: Begin Typing Customer Name or ID ...
- combobox "Begin Typing Customer Name or ID ..."
- button "Open"
- img "Upload"
- button "Support/FAQ": Help
- text: Select User to Assign
- button "Select User to Assign": Abhangale_QA
- img "Inbox"
- text: "77"
- textbox
- img
- main:
  - heading "Activity Types" [level=5]
  - grid:
    - button "Refresh"
    - button "BestFit":
      - img
      - text: BestFit
    - button "Export"
    - button "Density"
    - button "Add new record"
    - rowgroup:
      - row "Actions":
        - columnheader "Actions"
      - row "Actions":
        - columnheader "Actions"
    - rowgroup:
      - row "Activity Type Issue Display Priority System Activity Exclude From Dashboard Exclude From CRM Active Proc Notes":
        - columnheader "Activity Type":
          - text: Activity Type
          - button "Show filters"
          - button "Sort"
        - columnheader "Issue"
        - columnheader "Display Priority"
        - columnheader "System Activity"
        - columnheader "Exclude From Dashboard"
        - columnheader "Exclude From CRM"
        - columnheader "Active"
        - columnheader "Proc Notes"
      - row "Activity Type Issue Display Priority System Activity Exclude From Dashboard Exclude From CRM Active Proc Notes":
        - columnheader "Activity Type":
          - text: Contains
          - textbox "Contains": TestAct_ID_84
          - button "Clear filter"
        - columnheader "Issue":
          - text: Contains
          - textbox "Contains"
        - columnheader "Display Priority":
          - text: Equals
          - spinbutton "Equals"
        - columnheader "System Activity":
          - text: Is
          - combobox:
            - option "any" [selected]
            - option "true"
            - option "false"
        - columnheader "Exclude From Dashboard":
          - text: Is
          - combobox:
            - option "any" [selected]
            - option "true"
            - option "false"
        - columnheader "Exclude From CRM":
          - text: Is
          - combobox:
            - option "any" [selected]
            - option "true"
            - option "false"
        - columnheader "Active":
          - text: Is
          - combobox:
            - option "any" [selected]
            - option "true"
            - option "false"
        - columnheader "Proc Notes":
          - text: Contains
          - textbox "Contains"
    - row:
      - cell
    - row:
      - cell
    - row "TestAct_ID_84 Test_desc_2 5 Test_note2":
      - cell "TestAct_ID_84"
      - cell "Test_desc_2"
      - cell "5"
      - cell:
        - checkbox [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell "Test_note2"
    - row "TestAct_ID_842 Test_desc_1 4 Test_note1":
      - cell "TestAct_ID_842"
      - cell "Test_desc_1"
      - cell "4"
      - cell:
        - checkbox [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell:
        - checkbox [checked] [disabled]
      - cell "Test_note1"
    - paragraph: "Rows per page:"
    - 'button "Rows per page: 20"': "20"
    - paragraph: 1â€“2 of 2
    - navigation "pagination navigation":
      - list:
        - listitem:
          - button "Go to previous page" [disabled]
        - listitem:
          - button "page 1": "1"
        - listitem:
          - button "Go to next page" [disabled]
- iframe
- iframe
- iframe
- iframe
```

# Test source

```ts
  114 |     });
  115 |
  116 |     //Validate the details of the edited Activity Template
  117 |     expect(await adminMasterFilesActivityTemplate.returnFirstRowCellValue_texttype("description")).toContain("Test_Desc_Updated", "Description is not updated successfully")
  118 |     expect(await adminMasterFilesActivityTemplate.returnFirstRowCellValue_checkboxtype("excludeFromCRM")).toBe(false)
  119 |
  120 |     // Take a screenshot after editing details
  121 |     const editedSuccessfully_ScreenshotPath = `screenshots/Edited_Successfully${Date.now()}.png`;
  122 |     await page.screenshot({ path: editedSuccessfully_ScreenshotPath });
  123 |     await testInfo.attach('Screenshot after Editing details successfully', { path: editedSuccessfully_ScreenshotPath, contentType: 'image/png' });
  124 |
  125 |    //Delete the added Activity Type and verify its deleted successfully
  126 |    await adminMasterFilesActivityTemplate.clickOnDeleteIcon()
  127 |    await expect(adminMasterFilesActivityType.firstRow).not.toBeVisible()
  128 | });
  129 |
  130 | //TC_04 Validate that user is not able to create Activity template without Mandatory fields
  131 | test('Activity Type_Validate Mandatory fields', async({page}, testInfo) => {
  132 |     const loginPage = new LoginPage(page);
  133 |     const pageNav = new PageNavigation(page);
  134 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  135 |     const adminMasterFilesActivityTemplate = new Admin_MasterFiles_ActivityTemplate(page);
  136 |     await loginPage.navigateTo(envConfig.baseURL)
  137 |     await loginPage.login(envConfig.userName, envConfig.password)
  138 |     await pageNav.navigateToAdmin()
  139 |     await pageNav.navigateToAdminMasterFiles()
  140 |     await pageNav.navigateToActivityType()
  141 |     
  142 |     //Click on Add New Record and click on submit without adding values in Mandatory fields
  143 |     await adminMasterFilesActivityType.clickOnAddNewRecord()
  144 |     await expect(adminMasterFilesActivityType.title_AddRecord).toBeVisible()
  145 |     await adminMasterFilesActivityType.clickOnSubmitActivityTypeForm()
  146 |
  147 |     //Validate that error is getting displayed for Mandatory fields
  148 |     expect(await adminMasterFilesActivityType.returnIsActivityID_MandatoryField()).toBe(true)
  149 |     expect(await adminMasterFilesActivityType.returnIsDescription_MandatoryField()).toBe(true)
  150 |     expect(await adminMasterFilesActivityType.returnIsDisplayPriority_MandatoryField()).toBe(true)
  151 |
  152 | });
  153 |
  154 | //TC_05 Validate that user is able to create Activity type with only Mandatory fields also
  155 | test('Activity Type_Create Activity Type with Mandatory fields', async({page}, testInfo) => {
  156 |     const loginPage = new LoginPage(page);
  157 |     const pageNav = new PageNavigation(page);
  158 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  159 |     const adminMasterFilesActivityTemplate = new Admin_MasterFiles_ActivityTemplate(page);
  160 |     await loginPage.navigateTo(envConfig.baseURL)
  161 |     await loginPage.login(envConfig.userName, envConfig.password)
  162 |     await pageNav.navigateToAdmin()
  163 |     await pageNav.navigateToAdminMasterFiles()
  164 |     await pageNav.navigateToActivityType()
  165 |     await adminMasterFilesActivityType.clickOnAddNewRecord()
  166 |     await expect(adminMasterFilesActivityType.title_AddRecord).toBeVisible()
  167 |
  168 |     //Fill only Mandatory details
  169 |     var activity_ID = "TestAct_ID_"+Math.floor(Math.random() * 1000)
  170 |     await adminMasterFilesActivityType.fillActivityTypeFormWithMandatoryFieldsOnly("ExpectPay", activity_ID, "Test_desc_1", "4")
  171 |     await adminMasterFilesActivityType.clickOnSubmitActivityTypeForm()
  172 |     await adminMasterFilesActivityType.searchActivityType(activity_ID)
  173 |
  174 |     // Zoom out the page
  175 |     await page.evaluate(() => {
  176 |         document.body.style.zoom = '50%'; // Set the zoom level to 50%
  177 |     });
  178 |
  179 |     //Validate the details of the added Activity Type
  180 |     expect(await adminMasterFilesActivityTemplate.returnFirstRowCellValue_texttype("activityID")).toContain(activity_ID, "Activity ID is not matching")
  181 |     expect(await adminMasterFilesActivityTemplate.returnFirstRowCellValue_texttype("description")).toContain("Test_desc_1", "Description is not matching")
  182 |     expect(await adminMasterFilesActivityTemplate.returnFirstRowCellValue_texttype("displayPriority")).toContain("4", "Priority is not matching")
  183 |
  184 |     //Delete the added Activity Type and verify its deleted successfully
  185 |     await adminMasterFilesActivityTemplate.clickOnDeleteIcon()
  186 |     await expect(adminMasterFilesActivityType.firstRow).not.toBeVisible()
  187 | });
  188 |
  189 | //TC_06 Validate that user is able to perform quick search for each column on activity template page
  190 | test('Activity Type_Quick Search for each column', async({page}, testInfo) => {
  191 |     const loginPage = new LoginPage(page);
  192 |     const pageNav = new PageNavigation(page);
  193 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  194 |     const adminMasterFilesActivityTemplate = new Admin_MasterFiles_ActivityTemplate(page);
  195 |     await loginPage.navigateTo(envConfig.baseURL)
  196 |     await loginPage.login(envConfig.userName, envConfig.password)
  197 |     await pageNav.navigateToAdmin()
  198 |     await pageNav.navigateToAdminMasterFiles()
  199 |     await pageNav.navigateToActivityType()
  200 |     await adminMasterFilesActivityType.clickOnAddNewRecord()
  201 |     await expect(adminMasterFilesActivityType.title_AddRecord).toBeVisible()
  202 |
  203 |     //Fill the form details
  204 |     var activity_ID = "TestAct_ID_"+Math.floor(Math.random() * 1000)
  205 |     await adminMasterFilesActivityType.fillActivityTypeFormDetails("ExpectPay", activity_ID, "Test_desc_2", "5", "Test_note2")
  206 |     await adminMasterFilesActivityType.clickOnSubmitActivityTypeForm()
  207 |
  208 |     //Zoom out the page
  209 |     await page.evaluate(() => {
  210 |         document.body.style.zoom = '50%'; // Set the zoom level to 50%
  211 |     });
  212 |
  213 |     //Validate Quick search for each column
> 214 |     expect(await adminMasterFilesActivityTemplate.validateSearchFunctionalityTextvalue("activityID", activity_ID)).toBe(true)
      |                                                                                                                    ^ Error: expect(received).toBe(expected) // Object.is equality
  215 |     expect(await adminMasterFilesActivityTemplate.validateSearchFunctionalityTextvalue("description", "Test_desc_2")).toBe(true)
  216 |     expect(await adminMasterFilesActivityTemplate.validateSearchFunctionalityTextvalue("displayPriority", "5")).toBe(true)
  217 |     expect(await adminMasterFilesActivityTemplate.validateSearchFunctionalityTextvalue("decodedProcedureNote", "Test_note2")).toBe(true)
  218 |     expect(await adminMasterFilesActivityTemplate.validateSelectFunctionalityCheckbox("systemActivity", "false")).toBe(true)
  219 |     expect(await adminMasterFilesActivityTemplate.validateSelectFunctionalityCheckbox("excludeFromDashboard", "true")).toBe(true)
  220 |     expect(await adminMasterFilesActivityTemplate.validateSelectFunctionalityCheckbox("excludeFromCRM", "true")).toBe(true)
  221 |     expect(await adminMasterFilesActivityTemplate.validateSelectFunctionalityCheckbox("active", "true")).toBe(true)
  222 |
  223 |     //Delete the added Activity Type and verify its deleted successfully
  224 |     await adminMasterFilesActivityType.searchActivityType(activity_ID)
  225 |     await adminMasterFilesActivityTemplate.clickOnDeleteIcon()
  226 |     await expect(adminMasterFilesActivityType.firstRow).not.toBeVisible()
  227 | })
  228 |
  229 | //TC_07 Validate that user should not be able to delete any System Actvity type 
  230 | test('Activity Type_User should not be able to Delete System Activity Type', async({page}, testInfo) => {
  231 |     const loginPage = new LoginPage(page);
  232 |     const pageNav = new PageNavigation(page);
  233 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  234 |     await loginPage.navigateTo(envConfig.baseURL)
  235 |     await loginPage.login(envConfig.userName, envConfig.password)
  236 |     await pageNav.navigateToAdmin()
  237 |     await pageNav.navigateToAdminMasterFiles()
  238 |     await pageNav.navigateToActivityType()
  239 |     var pageTitle = await adminMasterFilesActivityType.returnPageName()
  240 |
  241 |     //To Validate page name
  242 |     expect(await adminMasterFilesActivityType.returnPageName()).toContain("Activity Types")
  243 |     await expect(adminMasterFilesActivityType.firstRow).toBeVisible()
  244 |
  245 |     //Search for System Activity Type and try to delete
  246 |     await adminMasterFilesActivityType.searchActivityType("ExpectPay")
  247 |     expect(await adminMasterFilesActivityType.returnIsdeleteBtnDisabled()).toBe(false)
  248 | });
  249 |
  250 | //TC_08 Validate that page controls are working as expected
  251 | test('Activity Type_Validate Page Controls', async({page}, testInfo) => {
  252 |     const loginPage = new LoginPage(page);
  253 |     const pageNav = new PageNavigation(page);
  254 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  255 |     const adminMasterFilesActivityTemplate = new Admin_MasterFiles_ActivityTemplate(page);
  256 |     await loginPage.navigateTo(envConfig.baseURL)
  257 |     await loginPage.login(envConfig.userName, envConfig.password)
  258 |     await pageNav.navigateToAdmin()
  259 |     await pageNav.navigateToAdminMasterFiles()
  260 |     await pageNav.navigateToActivityType()
  261 |     var pageTitle = await adminMasterFilesActivityType.returnPageName()
  262 |
  263 |     //To Validate page name
  264 |     expect(await adminMasterFilesActivityType.returnPageName()).toContain("Activity Types")
  265 |     await expect(adminMasterFilesActivityType.firstRow).toBeVisible()
  266 |
  267 |     //Zoom out the page
  268 |     await page.evaluate(() => {
  269 |         document.body.style.zoom = '50%'; // Set the zoom level to 50%
  270 |     });
  271 |     
  272 |     //Validate that Page Controls are working as expected
  273 |     expect(await adminMasterFilesActivityType.validateRecordsPerPage()).toBe(true, "Records are not getting displayed properly")
  274 |     expect(await adminMasterFilesActivityType.validatePageNavigation()).toBe(true, "PageNavigation is not working as expected")
  275 |
  276 | });
  277 |
  278 | //TC_09 Validate that newly created Activity type is getting displayed in activity dropdown in while creating new activity/communication
  279 | test('Activity Type_Newly created Activity type should be displayed in Activity dropdown', async({page}, testInfo) => {
  280 |     const loginPage = new LoginPage(page);
  281 |     const pageNav = new PageNavigation(page);
  282 |     const adminMasterFilesActivityType = new Admin_MasterFiles_ActivityType(page);
  283 |     const adminMasterFilesActivityTemplate = new Admin_MasterFiles_ActivityTemplate(page);
  284 |     const activityWindow = new ActivityCommunicateWindow(page)
  285 |     const accountOverview = new AccountOverview(page);
  286 |     const allaccounts = new AllAccounts(page);
  287 |     await loginPage.navigateTo(envConfig.baseURL)
  288 |     await loginPage.login(envConfig.userName, envConfig.password)
  289 |     await pageNav.navigateToAdmin()
  290 |     await pageNav.navigateToAdminMasterFiles()
  291 |     await pageNav.navigateToActivityType()
  292 |     await adminMasterFilesActivityType.clickOnAddNewRecord()
  293 |     await expect(adminMasterFilesActivityType.title_AddRecord).toBeVisible()
  294 |
  295 |     //Fill the form details
  296 |     var activity_ID = "TestAct_ID_"+Math.floor(Math.random() * 1000)
  297 |     await adminMasterFilesActivityType.fillActivityTypeFormDetails("ExpectPay", activity_ID, "Test_desc_1", "4", "Test_note1")
  298 |     await adminMasterFilesActivityType.clickOnSubmitActivityTypeForm()
  299 |     await adminMasterFilesActivityType.searchActivityType(activity_ID)
  300 |
  301 |     //Navigate to Account Overview page and validate that newly created Activity type is getting displayed in Activity dropdown
  302 |     await pageNav.navigateToAccounts()
  303 |     await pageNav.navigateToAllAccounts()
  304 |     await allaccounts.searchAndClick(dataSet.CustomerName)
  305 |     await allaccounts.clickonAccountDetailsOption()
  306 |
  307 |     await accountOverview.clickonNewActivity()
  308 |     var new_activity = await accountOverview.returnNewActivity()
  309 |     console.log("New Activity is: " + new_activity)
  310 |     expect(new_activity, 'New Activity did not open').toContain("New Activity for " + dataSet.CustomerName);
  311 |
  312 |     expect(await accountOverview.validateActivityType(activity_ID)).toContain(activity_ID, "Newly created Activity type is not getting displayed in Activity dropdown")
  313 |     
  314 |     //Navigate back to Activity Type page and delete the newly created Activity Type
```